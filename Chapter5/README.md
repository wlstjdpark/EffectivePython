시퀀스 슬라이스하는 방법을 알자
=======

<br />
파이썬은 시퀀스를 슬라이스해서 작은 조각으로 만드는 문법을 제공하고,
이를 이용하면 최소한의 노력으로 시퀀스 아이템의 부분집합에 접근할 수 있다.

슬라이싱 기본 문법 형태는 somelist[start:end] 이며, __여기서 start 인덱스는 포함이고 end 인덱스는 제외된다.__
```py
a = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
print('First four: ', a[:4])
print('Last four:  ', a[-4:])
print('Middle two: ', a[3:-3])

>>>
First four:  ['a', 'b', 'c', 'd']
Last four:   ['e', 'f', 'g', 'h']
Middle two:  ['d', 'e']
```

리스트의 처음과 끝을 생략할 수 있다.
```py
assert a[:5] == a[0:5]
```

```py
assert a[5:] == a[5:len(a)]
```

리스트 끝을 기준으로 오프셋을 계산할 때는 음수로 슬라이스 하는 게 편하다.
```py
a[:]     # ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
a[:5]    # ['a', 'b', 'c', 'd', 'e']
a[:-1]   # ['a', 'b', 'c', 'd', 'e', 'f', 'g']
a[4:]    #                     ['e', 'f', 'g', 'h']
a[-3:]   #                          ['f', 'g', 'h']
a[2:5]   #           ['c', 'd', 'e']
a[2:-1]  #           ['c', 'd', 'e', 'f', 'g']
a[-3:-1] #                          ['f', 'g']
```
슬라이싱은 인덱스가 경계를 벗어나도 적절하게 처리한다.

덕분에 최대 길이 코드를 쉽게 설정할 수 있다.
```py
first_twenty_items = a[:20]
last_twenty_items = a[-20:]
```

그러나 아래와 같이 인덱스에 직접 접근하면 예외가 발생한다.
```py
a[20]

>>>
IndexError: list index out of range
```


<br />
__슬라이싱의 결과는 완전히 새로운 리스트다.__
```py
b = a[4:]
print('Before:    ', b)
b[1] = 99
print('After:     ', b)
print('No Change: ', a)

>>>
Before:     ['e', 'f', 'g', 'h']
After:      ['e', 99, 'g', 'h']
No Change:  ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
```

<br />
할당에 사용하면 지정한 범위를 대체한다.
```py
print('Before:    ', a)
a[2:7] = [99, 24, 14]
print('After:     ', a)

>>>
Before:     ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
After:      ['a', 'b', 99, 24, 14, 'h']
```

시작과 끝 모두 생략하고 슬라이스하면 원본 리스트의 복사본을 얻는다.
```py
b = a[:]
assert b == a and b is not a
```

슬라이스에 시작과 끝 인덱스를 지정하지 않고 할당하면 새 리스트를 할당하지 않고, 슬라이스 전체 내용을 참조 대상의 복사본으로 대체한다.
```py
b = a
print('Before:    ', b)
a[:] = [101, 102, 103]
assert a is b               # 여전히 같은 리스트 객체임
print('After:     ', a)      # 참조를 갖고있기 때문에 변화가 같다.

>>>
Before:     ['a', 'b', 99, 24, 14, 'h']
After:      [101, 102, 103]
```

<br />
## 핵심 정리
- 슬라이스를 이용하여 쉽게 부분 집합을 가져오자.
- 슬라이싱은 범위를 벗어난 start나 end 인덱스를 허용하므로 시퀀스 앞쪽이나 뒤쪽 경계에 놓인 아이템을 얻기 쉽다.
- list 슬라이스에 할당하면 원본에 지정한 범위를 할당 받을 값으로 대체한다.

